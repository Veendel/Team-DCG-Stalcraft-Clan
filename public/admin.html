<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Team DCG</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <nav class="navbar">
    <h2>âš¡ TEAM DCG - ADMIN PANEL</h2>
    <div class="nav-links">
      <span id="totalUsers">Loading...</span>
      <a href="/clan-strats.html">ğŸ“‹ Clan Strats</a>
      <a href="/dashboard.html">My Dashboard</a>
      <a href="#" id="logoutBtn">Logout</a>
    </div>
  </nav>

  <div class="container admin-container">
    <h1>ğŸ‘‘ Clan Management Dashboard</h1>

    <!-- Statistics Overview -->
    <div class="stats-grid">
      <div class="stat-card">
        <h3>ğŸ‘¥ Total Members</h3>
        <p class="stat-number" id="statTotalUsers">0</p>
      </div>
      <div class="stat-card">
        <h3>âš”ï¸ Total Kills</h3>
        <p class="stat-number" id="statTotalKills">0</p>
      </div>
      <div class="stat-card">
        <h3>ğŸ’€ Total Deaths</h3>
        <p class="stat-number" id="statTotalDeaths">0</p>
      </div>
      <div class="stat-card">
        <h3>ğŸ“Š Avg K/D</h3>
        <p class="stat-number" id="statAvgKD">0.00</p>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="admin-actions">
      <button class="btn btn-primary" id="refreshBtn">ğŸ”„ Refresh Data</button>
      <button class="btn btn-secondary" id="exportBtn">ğŸ“¥ Export All Data</button>
      <button class="btn btn-secondary" id="statsViewBtn">ğŸ“Š Stats View</button>
      <button class="btn btn-secondary" id="consumablesViewBtn">ğŸ’Š Consumables View</button>
      <button class="btn btn-secondary" id="clanWarViewBtn">âš”ï¸ Clan War View</button>
    </div>

    <div id="message" class="success"></div>

    <!-- STATS VIEW -->
    <div id="statsView" class="card table-card">
      <div class="table-header">
        <h2>ğŸ“Š Member Stats & Equipment</h2>
        <input type="text" id="searchInput" placeholder="ğŸ” Search members...">
      </div>
      
      <div class="admin-table-wrapper admin-table-stats">
        <table id="statsTable" class="admin-table">
          <thead>
            <tr>
              <th class="col-id">ID</th>
              <th class="col-username">Username</th>
              <th class="col-ingame">In-Game Name</th>
              <th class="col-discord">Discord</th>
              <th class="col-role">Role</th>
              <th class="col-stats">Kills</th>
              <th class="col-stats">Deaths</th>
              <th class="col-stats">K/D</th>
              <th class="col-long">Weapons</th>
              <th class="col-long">Armors</th>
              <th class="col-long">Artifact Builds</th>
              <th class="col-image">Image</th>
              <th class="col-date">Joined</th>
              <th class="col-actions">Actions</th>
            </tr>
          </thead>
          <tbody id="statsBody">
            <tr>
              <td colspan="14" class="loading-cell">Loading data...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- CONSUMABLES VIEW -->
    <div id="consumablesView" class="card table-card" style="display: none;">
      <div class="table-header">
        <h2>ğŸ’Š Consumables Inventory</h2>
        <input type="text" id="searchInput2" placeholder="ğŸ” Search members...">
      </div>
      
      <div class="admin-table-wrapper admin-table-consumables">
        <table id="consumablesTable" class="admin-table admin-table--consumables">
          <thead>
            <tr class="header-row-categories">
              <th rowspan="2" class="col-member">Member</th>
              <th colspan="7" class="header-group">ğŸ’£ Grenades</th>
              <th colspan="7" class="header-group">âš¡ Enhancement</th>
              <th colspan="6" class="header-group">ğŸƒ Mobility</th>
              <th colspan="4" class="header-group">ğŸ’‰ Short-term</th>
            </tr>
            <tr class="header-row-labels">
              <th title="Plantain">Plantain</th>
              <th title="Napalm">Napalm</th>
              <th title="Thunder">Thunder</th>
              <th title="Frost">Frost</th>
              <th title="Tarmac">Tarmac</th>
              <th title="Sickness">Sickness</th>
              <th title="Stinky">Stinky</th>
              <th title="Solyanka">Solyanka</th>
              <th title="Garlic Soup">Garlic</th>
              <th title="Pea Soup">Pea Soup</th>
              <th title="Lingonberry">Lingonberry</th>
              <th title="Frosty">Frosty</th>
              <th title="Alcobull">Alcobull</th>
              <th title="Geyser Vodka">Geyser</th>
              <th title="Grog">Grog</th>
              <th title="Strength Stimulator">Str.Stim</th>
              <th title="Neurotonic">Neurotonic</th>
              <th title="Battery">Battery</th>
              <th title="SALT">SALT</th>
              <th title="ATLAS">ATLAS</th>
              <th title="Painkiller">Painkill</th>
              <th title="SchizoYorsh">SchizoY</th>
              <th title="Morphine">Morphine</th>
              <th title="Epinephrine">Epi</th>
            </tr>
          </thead>
          <tbody id="consumablesBody">
            <tr>
              <td colspan="25" class="loading-cell">Loading data...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- CLAN WAR VIEW (NEW) -->
    <div id="clanWarView" class="card" style="display: none;">
      <div class="table-header">
        <h2>âš”ï¸ Today's Clan War Registrations</h2>
      </div>

      <div class="clan-war-summary">
        <div class="war-stat">
          <span class="war-label">âœ… Registered (Yes):</span>
          <span class="war-number" id="warYesCount">0</span>
        </div>
        <div class="war-stat">
          <span class="war-label">âŒ Not Participating:</span>
          <span class="war-number" id="warNoCount">0</span>
        </div>
        <div class="war-stat">
          <span class="war-label">â³ No Response:</span>
          <span class="war-number" id="warNoResponseCount">0</span>
        </div>
      </div>

      <div class="admin-table-wrapper">
        <table class="admin-table">
          <thead>
            <tr>
              <th>Username</th>
              <th>In-Game Name</th>
              <th>Status</th>
              <th>Registered At</th>
            </tr>
          </thead>
          <tbody id="clanWarBody">
            <tr>
              <td colspan="4" style="text-align: center;">Loading data...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>

  <script src="/js/admin.js"></script>
</body>
</html>